## Goals: 
* modular design 
* easy to parallelize using Ray.
* maximize use of numpy operations instead of python loops.

## Main Classes:

### Cover:
defines a set of points each with location, weight and epsilon where epsilon is the e-radius for the point. Multi-epsilon cover is used when splitting a point in an epsilon cover to epsilon/2 requires a large number of points (is high-D)


### Vmap_collection:
A cover + a list of source (single point)
**parameters:**

*  width (sigma in the Gaussian Kernel)
*  tolerance: the solver stops when the change in all points of the cover is smaller than the tolerance.

#### Internal Variables
1. Cover
2. Collection of Vmaps one for each source
3. Transition Matrix

#### methods

*  **Construct_matrix**  Internal method for constructing the transition matrix from the epsilon cover.

* **propagate_all_Vmaps**


### Vmap A single voltage map from a single source.

Initialization should include the source, sigma, tolerance...

* **Initialize_from_rough** Initialize a vmap from anotA map can be initialized from a rougher map. (takes sigma as parameter, but for now sigma is fixed.)
*  **Initialize_from_other** initialize a map for cover1 from a vmap for cover 2.
* **Trimmer** Removes the points whose voltage is close to zero and repacks matrix.
* **Voltage_Propagator** Takes in a cover with a voltage, or a definition of the source. and a matrix from **Construct matrix**
* 1. Iterate on voltage using matrix
* 2. Call checker, stop if checker returns true
* **Voltage Checker:** Computes statistics of the voltages and decides whether to stop.
   1. Compute pointwise difference between previous voltage and current, store in log, 
   2. Checks if any of the voltages increased, log a warning if so.


### Tree:
A tree is a  factory of Covers.

**max_rad** is the radius of a ball that contains all of the data. 

It is the place where the data enters the system.  therefor based on queues.

The covers generated by level i+1 includes all of 
the points for the cover at level i

Level i is associated with a radius of **max_rad** * 2^{-i}
but some of the cells might have a higher radius (high intrinsic dimension region)



